<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NEO-STACK</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="app">
      <!-- Menu View -->
      <div id="menu-view">
        <div class="logo-container">
          <div class="logo-box">NS</div>
          <h1 class="brand-name">NEO<span class="highlight">-STACK</span></h1>
        </div>
        <div class="menu-intro">COMPETITIVE BLOCK PUZZLE</div>
        <div class="menu-buttons">
          <button id="btn-single" class="menu-btn primary">Single Player</button>
          <button id="btn-multi" class="menu-btn secondary">Multiplayer</button>
        </div>
        
        <!-- Multiplayer Sub-menu -->
        <div id="multi-menu" class="hidden">
          <div class="input-group">
            <input type="text" id="room-code-input" placeholder="Enter Room Code" maxlength="4">
          </div>
          <div class="menu-buttons">
            <button id="btn-create" class="menu-btn">Create Room</button>
            <button id="btn-join" class="menu-btn">Join Room</button>
          </div>
          <p id="room-status"></p>
          <button id="btn-back" class="menu-btn small">Back</button>
        </div>
      </div>

      <!-- Game View -->
      <div id="game-view" class="hidden">
        <div class="game-container">
          
          <!-- Opponent View (Only visible in Multiplayer) -->
          <div id="opponent-panel" class="side-panel opponent hidden">
             <div class="panel-box">
                <h2>OPPONENT</h2>
                <canvas id="opponent-canvas" width="150" height="300"></canvas>
                <div id="opponent-status">Waiting...</div>
             </div>
          </div>

          <!-- Left Panel: Hold & Score -->
          <div class="side-panel left">
            <div class="panel-box">
              <h2>HOLD</h2>
              <canvas id="hold-canvas" width="100" height="100"></canvas>
            </div>
            <div class="panel-box score-box">
              <h2>SCORE</h2>
              <div id="score">0</div>
            </div>
            <div class="panel-box level-box">
              <h2>LEVEL</h2>
              <div id="level">1</div>
            </div>
          </div>
  
          <!-- Center: Game Board -->
          <div class="board-container">
            <canvas id="game-canvas" width="300" height="600"></canvas>
            <div id="overlay" class="overlay hidden">
             <h1 class="title" id="overlay-title">NEO-STACK</h1>
            <p id="overlay-msg">Press ENTER to Start</p>
            <div id="overlay-buttons" class="overlay-buttons hidden">
              <button id="btn-restart" class="menu-btn small">Play Again</button>
              <button id="btn-home" class="menu-btn small">Home</button>
            </div>
          </div>
          </div>
  
          <!-- Right Panel: Next Piece & Lines -->
          <div class="side-panel right">
            <div class="panel-box">
              <h2>NEXT</h2>
              <canvas id="next-canvas" width="100" height="100"></canvas>
            </div>
            <div class="panel-box lines-box">
              <h2>LINES</h2>
              <div id="lines">0</div>
            </div>
            <div class="panel-box room-info hidden">
              <h2>ROOM</h2>
              <div id="room-display">----</div>
            </div>
          </div>
  
          <!-- Mobile Controls -->
          <div class="mobile-controls">
            <div class="control-row">
              <button id="btn-rotate" class="control-btn round">↻</button>
            </div>
            <div class="control-row">
              <button id="btn-left" class="control-btn">←</button>
              <button id="btn-down" class="control-btn">↓</button>
              <button id="btn-right" class="control-btn">→</button>
            </div>
            <div class="control-row">
              <button id="btn-drop" class="control-btn big-btn">DROP</button>
            </div>
          </div>
  
        </div>
      </div>
    </div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
